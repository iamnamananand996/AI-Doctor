<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Au Register Forms by Colorlib</title>

    <!-- Icons font CSS-->
    <link href="static/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="static/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="static/vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="static/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="static/css/main_1.css" rel="stylesheet" media="all">
    <link rel="stylesheet" href="/static/css/slider_style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
</head>

<body>
    <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Patient Information</h2>
                </div>
                <div class="card-body">
                    
                        <div class="form-row">
                            <div class="name">Age</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-5" type="text" name="company" id="age" >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Sex</div>
                            <div class="value">
                                <label class="radio-container m-r-55">Male
                                    <input type="radio" checked="checked" name="exist" id="sex" value="1">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container m-r-55">Female
                                    <input type="radio" name="exist" id="sex" value="0">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container">Other
                                    <input type="radio" name="exist" id="sex" value="2">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Chest Pain</div>
                            <div class="value">
                                <div class="input-group">
                                    <div class="rs-select2 js-select-simple select--no-search">
                                        <select name="subject" id="chest_pain">
                                            <option disabled="disabled" selected="selected">Choose option</option>
                                            <!-- <option value="0">Typical Angina</option> -->
                                            <option value="0">Atypical Angin</option>
                                            <option value="1">Non-anginal Pain</option>
                                            <option value="2">Typical Angina</option>
                                        </select>
                                        <div class="select-dropdown"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row p-t-20">
                                <label class="label label--block">Resting Blood Pressure (mm Hg)</label>
                                <br>
                                <br>
                                <div class="slidecontainer">
                                  <input type="range" min="90" max="250" value="50" class="slider" id="myRange">
                                  <p>Value: <span id="blood_pressure" name="blood"></span></p>
                                </div>
                        </div>
                        <div class="form-row">
                                <div class="name">Person's Fasting Blood Sugar</div>
                                <div class="value">
                                    <div class="input-group">
                                        <div class="rs-select2 js-select-simple select--no-search">
                                            <select name="subject" id="blood_sugar">
                                                <option disabled="disabled" selected="selected">Choose option</option>
                                                <option value="1"> Less than 120 mg/dl</option>
                                                <option value="0"> Greater than 120 mg/dl</option>
                                            </select>
                                            <div class="select-dropdown"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row p-t-20">
                                    <label class="label label--block">Cholesterol (mg/dl) </label>
                                    <br>
                                    <br>
                                    <div class="slidecontainer">
                                      <input type="range" min="120" max="580" value="50" class="slider" id="cholesterol_Range">
                                      <p>Value: <span id="cholesterol_value" name=""></span></p>
                                    </div>
                            </div>
                            <div class="form-row">
                                    <div class="name">Resting electrocardiographic measurement</div>
                                    <div class="value">
                                        <div class="input-group">
                                            <div class="rs-select2 js-select-simple select--no-search">
                                                <select name="subject" id="electrocardiographic">
                                                    <option disabled="disabled" selected="selected">Choose option</option>
                                                    <option value="1"> Normal</option>
                                                    <option value="0"> Having ST-T wave Abnormality</option>
                                                </select>
                                                <div class="select-dropdown"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                        <div class="name">Number of Major Vessels</div>
                                        <div class="value">
                                            <div class="input-group">
                                                <div class="rs-select2 js-select-simple select--no-search">
                                                    <select name="subject" id="major_vessels">
                                                        <option disabled="disabled" selected="selected">Choose option</option>
                                                        <option value="0"> Zero</option>
                                                        <option value="1"> One</option>
                                                        <option value="2">Two</option>
                                                    </select>
                                                    <div class="select-dropdown"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <div class="form-row p-t-20">
                                        <label class="label label--block">Maximum Heart Rate</label>
                                        <br>
                                        <br>
                                        <div class="slidecontainer">
                                          <input type="range" min="70" max="210" value="50" class="slider" id="maximum_heart_rate">
                                          <p>Value: <span id="maximum_heart_rate_value" name="blood"></span></p>
                                        </div>
                                </div>
                                <div class="form-row">
                                        <div class="name">Exercise</div>
                                        <div class="value">
                                            <div class="input-group">
                                                <div class="rs-select2 js-select-simple select--no-search">
                                                    <select name="subject" id="exercise">
                                                        <option disabled="disabled" selected="selected">Choose option</option>
                                                        <option value="0"> Yes</option>
                                                        <option value="1"> NO</option>
                                                    </select>
                                                    <div class="select-dropdown"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row p-t-20">
                                            <label class="label label--block">Oldpeak</label>
                                            <br>
                                            <br>
                                            <div class="slidecontainer">
                                              <input type="range" min="0.0" max="7.0" value="50" class="slider" id="oldpeak" step ="0.1">
                                              <p>Value: <span id="oldpeak_value" name="blood"></span></p>
                                            </div>
                                    </div>
                                    <div class="form-row">
                                            <div class="name">Blood Disorder (thalassemia)</div>
                                            <div class="value">
                                                <div class="input-group">
                                                    <div class="rs-select2 js-select-simple select--no-search">
                                                        <select name="subject" id="thalassemia">
                                                            <option disabled="disabled" selected="selected">Choose option</option>
                                                           
                                                            <option value="0"> Fixed Defect</option>
                                                            <option value="1"> Normal</option>
                                                            <option value="2">Reversable Defect</option>
                                                        </select>
                                                        <div class="select-dropdown"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                <div class="name">Slope Peak Exercise</div>
                                                <div class="value">
                                                    <label class="radio-container m-r-55">Flat
                                                        <input type="radio"  name="slope" value="0" id="slope">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                    <label class="radio-container m-r-55">Upsloping
                                                        <input type="radio" name="slope" value="2" id="slope">
                                                        <span class="checkmark"></span>
                                                    </label>
                                                </div>
                                            </div>
                                         
                        <!-- <div class="form-row">
                            <div class="name">Company</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-5" type="text" name="company">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Email</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-5" type="email" name="email">
                                </div>
                            </div>
                        </div>
                        <div class="form-row m-b-55">
                            <div class="name">Phone</div>
                            <div class="value">
                                <div class="row row-refine">
                                    <div class="col-3">
                                        <div class="input-group-desc">
                                            <input class="input--style-5" type="text" name="area_code">
                                            <label class="label--desc">Area Code</label>
                                        </div>
                                    </div>
                                    <div class="col-9">
                                        <div class="input-group-desc">
                                            <input class="input--style-5" type="text" name="phone">
                                            <label class="label--desc">Phone Number</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="name">Subject</div>
                            <div class="value">
                                <div class="input-group">
                                    <div class="rs-select2 js-select-simple select--no-search">
                                        <select name="subject">
                                            <option disabled="disabled" selected="selected">Choose option</option>
                                            <option>Subject 1</option>
                                            <option>Subject 2</option>
                                            <option>Subject 3</option>
                                        </select>
                                        <div class="select-dropdown"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row p-t-20">
                            <label class="label label--block">Are you an existing customer?</label>
                            <div class="p-t-15">
                                <label class="radio-container m-r-55">Yes
                                    <input type="radio" checked="checked" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container">No
                                    <input type="radio" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-row p-t-20">
                            <label class="label label--block">Are you an existing customer?</label>
                            <div class="p-t-15">
                                <label class="radio-container m-r-55">Yes
                                    <input type="radio" checked="checked" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container">No
                                    <input type="radio" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div> -->
                        <div style="text-align:center">
                            <button class="btn btn--radius-2 btn--red" type="submit" id="all_data">Check of Heart Disease</button>
                        </div>
                   
                </div>
            </div>
        </div>
    </div>


    <script>

            $(document).ready(function(){
            
                $("#all_data").click(function() {
                
                    var age = $("#age").val();
                    var sex = $("#sex").val();
                    var chest_pain = $("#chest_pain").val();
                    var blood_pressure = $("#blood_pressure").text();
                    var cholesterol_value = $("#cholesterol_value").text();
                    var thalassemia = $("#thalassemia").val();
                    var blood_sugar = $("#blood_sugar").val();
                    var electrocardiographic = $("#electrocardiographic").val();
                    var exercise = $("#exercise").val();
                    var slope = $("#slope").val();
                    var major_vessels = $("#major_vessels").val();
                    var maximum_heart_rate_value = $("#maximum_heart_rate_value").text();
                    var oldpeak_value = $("#oldpeak_value").text();
                   
                    console.log("blood_pressure", blood_pressure,
                                "bthalassemia",thalassemia,
                                "age",age,
                                "sex",sex,
                                'chest_pain',chest_pain,
                                "blood_sugar",blood_sugar,
                                "cholesterol_value" , cholesterol_value,
                                "electrocardiographic",electrocardiographic,
                                "exercise",exercise,
                                "slope",slope,
                                "major_vessels", major_vessels,
                                "maximum_heart_rate_value" , maximum_heart_rate_value,
                                "oldpeak_value",oldpeak_value);

                    if(blood_pressure == null || thalassemia == null || age == null || sex == null ||
                        blood_sugar == null || exercise == null || slope == null || cholesterol_value == null ||
                        major_vessels == null || maximum_heart_rate_value == null){
                            Swal.fire({
                                    type: 'error',
                                    title: 'Oops...',
                                    text: 'Data Incaptible',
                                    animation: false,
                                    customClass: {
                                        popup: 'animated tada'
                                    }
                                })
                        }
                    else{

                        console.log("blood_pressure", blood_pressure,
                                "bthalassemia",thalassemia,
                                "age",age,
                                "sex",sex,
                                'chest_pain',chest_pain,
                                "blood_sugar",blood_sugar,
                                "cholesterol_value" , cholesterol_value,
                                "electrocardiographic",electrocardiographic,
                                "exercise",exercise,
                                "slope",slope,
                                "major_vessels", major_vessels,
                                "maximum_heart_rate_value" , maximum_heart_rate_value,
                                "oldpeak_value",oldpeak_value);



                        $.ajax({
                        type: 'GET',
                        url: "/heart_attack",
                        data: { blood_pressure: blood_pressure,
                                thalassemia:thalassemia,
                                age:age,
                                sex:sex,
                                chest_pain:chest_pain,
                                blood_sugar:blood_sugar,
                                cholesterol_value : cholesterol_value,
                                electrocardiographic:electrocardiographic,
                                exercise:exercise,
                                slope:slope,
                                major_vessels: major_vessels,
                                maximum_heart_rate_value : maximum_heart_rate_value,
                                oldpeak_value:oldpeak_value},
                        // contentType: 'application/json',
                        // dataType: 'json',
                        success: function (resp) {
                            console.log(resp.data)
                            if (resp.data == 'No'){
                                Swal.fire({
                                    title: 'Patient is Healthy',
                                    animation: false,
                                    customClass: {
                                        popup: 'animated tada'
                                    }
                                })
                            }
                            else{
                                Swal.fire({
                                    type: 'error',
                                    title: 'Patient is Suffering form Heart Disease',
                                    text: '',
                                    animation: false,
                                    customClass: {
                                        popup: 'animated tada'
                                    }
                                })
                            }  
                            console.log('data here');
                        }
                    });
                    }   
                });
            });
            
            
        </script>







    <!-- Jquery JS-->
    <script src="static/vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="static/vendor/select2/select2.min.js"></script>
    <script src="static/vendor/datepicker/moment.min.js"></script>
    <script src="static/vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="static/js/global_1.js"></script>
    <script src="/static/js/slider_styles_3.js"></script>

</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->